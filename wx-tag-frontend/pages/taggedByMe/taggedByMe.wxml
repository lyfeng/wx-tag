<!--pages/taggedByMe/taggedByMe.wxml-->
<view class="container">
  <view class="page-header">
    <view class="home-button" bindtap="goHome">
      <text class="home-icon">ğŸ </text>
    </view>
    <text class="header-title">æˆ‘ç»™ä»–äººçš„æ ‡ç­¾</text>
  </view>

  <view class="content-area">
    <view class="section-title">æˆ‘æ‰“è¿‡æ ‡ç­¾çš„å¥½å‹</view>

    <!-- åŠ è½½ä¸­ -->
    <view class="loading-container" wx:if="{{loading}}">
      <view class="loading"></view>
      <text>åŠ è½½ä¸­...</text>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:elif="{{!loading && friendList.length === 0}}">
      <view class="empty-icon">ğŸ˜Š</view>
      <text class="empty-text">è¿˜æ²¡æœ‰ç»™å¥½å‹è´´è¿‡æ ‡ç­¾</text>
    </view>

    <!-- å¥½å‹åˆ—è¡¨ -->
    <view class="friend-list" wx:else>
      <view class="user-row" wx:for="{{friendList}}" wx:key="openid" bindtap="navigateToDetail" data-openid="{{item.openid}}" data-nickname="{{item.nickname}}">
        <view class="user-avatar-text" wx:if="{{!item.avatarUrl}}">{{item.nickname ? item.nickname.substring(0,1) : 'ç”¨'}}</view>
        <image class="user-avatar" wx:else src="{{item.avatarUrl || '/images/empty.png'}}" mode="aspectFill" binderror="onFriendAvatarError" data-index="{{index}}"></image>
        <view class="user-info">
          <text class="user-name">{{item.nickname || 'å¾®ä¿¡ç”¨æˆ·'}}</text>
          <view class="user-tags">
            <view class="mini-tag" wx:for="{{item.tags}}" wx:key="index" wx:for-item="tag">
              {{tag}}
            </view>
          </view>
        </view>
        <text class="arrow">></text>
      </view>
    </view>
  </view>
</view>